(this["webpackJsonpfcc-javascript-calculator"]=this["webpackJsonpfcc-javascript-calculator"]||[]).push([[0],{28:function(e,n,t){e.exports=t(43)},33:function(e,n,t){},40:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var i,r=t(0),a=t.n(r),s=t(21),u=t.n(s),o=(t(33),t(25)),c=t(4),l=t(12),d=t(13),f=function(){function e(n){Object(l.a)(this,e),this.token=n,this.left=null,this.right=null}return Object(d.a)(e,[{key:"setRight",value:function(e){this.right=e}},{key:"setLeft",value:function(e){this.left=e}},{key:"solve",value:function(){if(this.token.isNumber())return parseFloat(this.token.value);if(this.token.isOperation()){var e=this.token.getOperationConfig(),n=e.argCount,t=e.func;if(1===n&&null!==this.left)return t(this.left.solve());if(2===n&&null!==this.left&&null!==this.right)return t(this.left.solve(),this.right.solve())}throw Error("invalid token type in AST")}}]),e}(),p=t(9),h={ADD:"+",SUBTRACT:"-",MULTIPLY:String.fromCharCode(215),DIVIDE:String.fromCharCode(247),EXPONENT:"^"},g=h,v=Object.values(h),b=(i={},Object(p.a)(i,h.ADD,{precedence:1,argCount:2,func:function(e,n){return e+n}}),Object(p.a)(i,h.SUBTRACT,{precedence:1,argCount:2,func:function(e,n){return e-n}}),Object(p.a)(i,h.MULTIPLY,{precedence:2,argCount:2,func:function(e,n){return e*n}}),Object(p.a)(i,h.DIVIDE,{precedence:2,argCount:2,func:function(e,n){return e/n}}),Object(p.a)(i,h.EXPONENT,{precedence:3,argCount:2,func:function(e,n){return Math.pow(e,n)}}),i),k={OPERATION:0,NUMBER:1,LEFT_PARENTHESIS:2,RIGHT_PARENTHESIS:3},y=function(e){return n=e,v.includes(n)?k.OPERATION:"("===e?k.LEFT_PARENTHESIS:")"===e?k.RIGHT_PARENTHESIS:function(e){return!(1!==e.length||!"0123456789".includes(e))||!isNaN(parseFloat(e))}(e)?k.NUMBER:void 0;var n},m=function(){function e(n){Object(l.a)(this,e),this.value=n,this.type=y(n)}return Object(d.a)(e,[{key:"isOperation",value:function(){return this.type===k.OPERATION}},{key:"isLeftParenthesis",value:function(){return this.type===k.LEFT_PARENTHESIS}},{key:"isRightParenthesis",value:function(){return this.type===k.RIGHT_PARENTHESIS}},{key:"isNumber",value:function(){return this.type===k.NUMBER}},{key:"getOperationConfig",value:function(){return b[this.value]}}]),e}(),E=function(e){return e[e.length-1]},O=function(e){var n=[],t=[],i=function(){var e=n.pop(),i=new f(e);e.getOperationConfig().argCount>1&&i.setRight(t.pop()),i.setLeft(t.pop()),t.push(i)};for(e.forEach((function(e){switch(e.type){case k.NUMBER:!function(e){t.push(new f(e))}(e);break;case k.LEFT_PARENTHESIS:n.push(e);break;case k.RIGHT_PARENTHESIS:for(;n.length>0&&!E(n).isLeftParenthesis();)i();n.pop();break;case k.OPERATION:for(;n.length>0&&!E(n).isLeftParenthesis()&&E(n).getOperationConfig().precedence>=e.getOperationConfig().precedence;)i();n.push(e)}}));n.length>0;)i();return t.pop()},T=[new m("0")],w=function(e){var n=O(e).solve();return new m(n)},R=function(e){return"0"===e[0]?"."===e[1]?e:e.slice(1):e},P=function(e){return e.length>2&&"="===e[e.length-2].value},B=function(e){return e.reduce(N,0)>0},N=function(e,n){return n.isLeftParenthesis()?e+1:n.isRightParenthesis()?e-1:e},j=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,i=t.key,r=new m(i),a=n[n.length-1],s=n[n.length-2];if(P(n))return r.isOperation()?e([a],{key:i}):e(T,{key:i});var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.value;return[].concat(Object(c.a)(n.slice(0,-1)),[new m(R(a.value+e))])},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return[].concat(Object(c.a)(n),[e instanceof m?e:new m(e)])},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return[].concat(Object(c.a)(n.slice(0,-1)),[e,a])},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return[].concat(Object(c.a)(n.slice(0,-1)),[e])},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return[].concat(Object(c.a)(n.slice(0,-2)),[e])},p=function(){return n.slice(0,-1)},h=function(){return n};switch(r.value){case"C":return T;case"=":try{return[].concat(Object(c.a)(n),[r,w(n)])}catch(v){return h()}case".":if(a.isNumber())return a.value.includes(".")?h():u();if(a.isLeftParenthesis()||a.isOperation())return o("0.");if(a.value===g.SUBTRACT&&(s.isOperation()||s.isLeftParenthesis()))return u("0.");break;case"-":if(a.value===g.SUBTRACT&&(s.isOperation()||s.isRightParenthesis()))return p();if(a.isLeftParenthesis()||a.isOperation()||a.isNumber()||a.isRightParenthesis())return o();break;default:switch(r.type){case k.NUMBER:if(a.isNumber())return u();if(a.value===g.SUBTRACT&&(s.isOperation()||s.isLeftParenthesis()))return u();if(a.isLeftParenthesis()||a.isOperation())return o();break;case k.LEFT_PARENTHESIS:if(a.isLeftParenthesis()||a.isOperation())return o();if(a.isNumber())return l();break;case k.RIGHT_PARENTHESIS:if((a.isNumber()||a.isRightParenthesis())&&B(n))return o();break;case k.OPERATION:if(a.isNumber()||a.isRightParenthesis())return o();if(a.value===g.SUBTRACT&&s.isOperation())return f();if(a.value===g.SUBTRACT&&s.isLeftParenthesis())return h();if(a.isOperation())return d()}}return h()},C=function(){var e=Object(r.useReducer)(j,T),n=Object(o.a)(e,2),t=n[0],i=n[1],a=Object(r.useCallback)((function(e){return i({key:e})}),[i]);return{displayCurrent:t[t.length-1].value,displayFormula:t.map((function(e){return e.value})).join(""),press:a}},I=[{id:"clear",label:"C",keyBinding:["c","C"]},{id:"open-parenthesis",label:"(",keyBinding:"("},{id:"close-parenthesis",label:")",keyBinding:")"},{id:"exponent",label:g.EXPONENT,keyBinding:"^"},{id:"seven",label:"7",keyBinding:"7"},{id:"eight",label:"8",keyBinding:"8"},{id:"nine",label:"9",keyBinding:"9"},{id:"add",label:g.ADD,keyBinding:"+"},{id:"four",label:"4",keyBinding:"4"},{id:"five",label:"5",keyBinding:"5"},{id:"six",label:"6",keyBinding:"6"},{id:"subtract",label:g.SUBTRACT,keyBinding:"-"},{id:"one",label:"1",keyBinding:"1"},{id:"two",label:"2",keyBinding:"2"},{id:"three",label:"3",keyBinding:"3"},{id:"multiply",label:g.MULTIPLY,keyBinding:"*"},{id:"zero",label:"0",keyBinding:"0"},{id:"decimal",label:".",keyBinding:"."},{id:"equals",label:"=",keyBinding:["=","Enter"]},{id:"divide",label:g.DIVIDE,keyBinding:"/"}],S=t(5),A=t(6);function L(){var e=Object(S.a)(["\n    background: #555;\n    border-radius: 3px;\n    padding: 4px;\n"]);return L=function(){return e},e}var x=A.a.div(L());function U(){var e=Object(S.a)(["\n    margin: 4px;\n    padding: 4px;\n    background: #010;\n    color: #3C3;\n    font-family: 'Digital';\n    line-height: 1;\n    text-align: right;\n    overflow-wrap: break-word;\n    font-size: ",";\n    @media (orientation: portrait) {\n        width: 184px;\n    }\n    @media (orientation: landscape) {\n        width: 234px;\n    }\n"]);return U=function(){return e},e}var H=A.a.div(U(),(function(e){return"big"===e.size?"24px":"16px"}));function D(){var e=Object(S.a)(['\n    display: grid;\n    justify-items: stretch;\n    align-items: stretch;\n    @media (orientation: portrait) {\n        grid-template-columns: repeat(4, 50px);\n        grid-template-rows: repeat(5, 50px);\n        grid-template-areas:\n            "clear open-parenthesis close-parenthesis exponent"\n            "seven eight nine add"\n            "four five six subtract"\n            "one two three multiply"\n            "zero decimal equals divide";\n    }\n    @media (orientation: landscape) {\n        grid-template-columns: repeat(5, 50px);\n        grid-template-rows: repeat(4, 50px);\n        grid-template-areas:\n            "seven eight nine add clear"\n            "four five six subtract open-parenthesis"\n            "one two three multiply close-parenthesis"\n            "zero decimal equals divide exponent";\n    }    \n']);return D=function(){return e},e}var F=A.a.div(D()),_=t(26),M=t(15),z=!("undefined"===typeof window||!window.document||!window.document.createElement),G=function(e,n){var t=Object(r.useCallback)((function(t){var i=t.key;n.includes(i)&&e(i)}),[e,n]);Object(r.useEffect)((function(){return z?(window.document.addEventListener("keydown",t),function(){window.document.removeEventListener("keydown",t)}):(console.error("window is not defined"),null)}),[t])},q=function(e){var n=e.id,t=e.label,i=e.keyBinding,s=e.press,u=Object(_.a)(e,["id","label","keyBinding","press"]),o=Object(r.useCallback)((function(){return s(t)}),[s,t]);return G(o,i),a.a.createElement(M.a,Object.assign({id:n,bg:"#163e7d",onClick:o,m:1},u),t)},V=(t(40),function(){var e=C(),n=e.displayCurrent,t=e.displayFormula,i=e.press;return a.a.createElement(x,null,a.a.createElement(H,{size:"small"},t),a.a.createElement(H,{size:"big",id:"display"},n),a.a.createElement(F,null,I.map((function(e,n){return a.a.createElement(q,Object.assign({key:n},e,{press:i,sx:{gridArea:e.id}}))}))))}),X=t(20);var Y=function(){return Object(X.useFccTest)({fccTest:X.FccTests.javascript_calculator,queryParam:"fcc-test"}),a.a.createElement(M.b,{alignItems:"center",justifyContent:"center",height:"100vh",bg:"#d2d3f7"},a.a.createElement(V,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.682e8e43.chunk.js.map